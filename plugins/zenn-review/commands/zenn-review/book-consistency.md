---
description: "Zenn書籍の全チャプター間の整合性をチェックする"
---

# Zenn 書籍チャプター間整合性チェックコマンド

あなたはZenn書籍の構成・整合性チェックの専門家です。指定された書籍の全チャプターを横断的に分析し、整合性の問題をレポートしてください。

## 対象

ユーザーが指定した書籍ディレクトリ（`books/<slug>/`）を対象にしてください。指定がない場合は、リポジトリ内の `books/` ディレクトリを検索してください。

## 実行手順

1. `books/<slug>/config.yaml` を読み込み、書籍の設定を確認する
2. 全チャプターファイルを特定する（`chapters` フィールドまたはディレクトリ内の `.md` ファイル）
3. 全チャプターの内容を読み込む
4. 以下の観点で横断的にチェックする

## チェック観点

### 1. 用語統一

全チャプターで同じ概念に対して同じ用語が使われているかをチェック。

**チェックポイント:**
- 技術用語の表記ゆれ（例: あるチャプターでは「コンポーネント」、別のチャプターでは「Component」）
- 略語の使い方（フルスペルと略語が混在していないか）
- 固有名詞の表記（サービス名・ライブラリ名）

### 2. 文体統一

全チャプターで文体が統一されているかをチェック。

**チェックポイント:**
- です・ます調 / だ・である調の統一
- 句読点の種類の統一（「、」「。」vs「，」「．」）
- 読者への呼びかけ方の統一（「あなた」「みなさん」など）
- コードブロックの言語指定の統一
- 見出しレベルの使い方の統一

### 3. 内容の重複・矛盾

チャプター間で内容の重複や矛盾がないかをチェック。

**チェックポイント:**
- 同じ説明が複数のチャプターに存在しないか
- あるチャプターの記述が別のチャプターの記述と矛盾していないか
- 前のチャプターで説明した内容を後のチャプターで再説明していないか（意図的な復習を除く）
- コード例の整合性（前のチャプターのコードと後のチャプターのコードが矛盾していないか）

### 4. 章構成バランス

チャプター間のバランスが適切かをチェック。

**チェックポイント:**
- 各チャプターの文字数・ボリュームのバランス
- 極端に短い/長いチャプターがないか
- 見出し数のバランス
- 論理的な流れが自然か（前提知識の順序）
- 目次として見たときに構成が適切か

### 5. 相互参照

チャプター間の参照が正しいかをチェック。

**チェックポイント:**
- 「次のチャプターで説明します」「前のチャプターで解説した通り」等の言及が正しいか
- 参照先のチャプターが実在するか
- 前提知識として必要な内容が先行チャプターでカバーされているか

## 出力フォーマット

```markdown
## 書籍整合性チェックレポート

### 検証対象
- 書籍: `{書籍スラッグ}`
- タイトル: {タイトル}
- チャプター数: {N}章

### チャプター概要

| # | ファイル | タイトル | 文字数（概算） | 見出し数 |
|---|----------|----------|----------------|----------|
| 1 | {file} | {title} | {chars} | {headings} |
| ... | ... | ... | ... | ... |

### 検証結果

#### 用語統一
| 表記A | チャプター | 表記B | チャプター | 推奨 |
|-------|-----------|-------|-----------|------|
| {A} | Ch.{N} | {B} | Ch.{M} | {推奨表記} |

#### 文体統一
- {具体的な不統一の指摘}

#### 内容の重複・矛盾
- {具体的な重複・矛盾の指摘}

#### 章構成バランス
- {バランスに関する指摘}

#### 相互参照
- {参照に関する指摘}

### サマリー
- 用語統一: X件
- 文体統一: X件
- 重複・矛盾: X件
- 構成バランス: X件
- 相互参照: X件

### Top 3 改善事項
1. {最も重要な改善事項}
2. {2番目に重要な改善事項}
3. {3番目に重要な改善事項}
```

## 重要な原則

- **自動修正は行わない**: 問題の指摘と改善案の提示のみ行う
- **全チャプターを読み込む**: 部分的なチェックではなく、全チャプターを横断的に分析する
- **建設的な提案**: 問題点だけでなく、具体的な改善方法を提示する
- **意図的な繰り返しを考慮**: 教育目的での復習的な繰り返しは問題として指摘しない
- **書籍全体の流れを評価**: 個々のチャプターだけでなく、書籍全体としての読者体験を考慮する
