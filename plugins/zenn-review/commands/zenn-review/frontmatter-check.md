---
description: "Zenn記事のフロントマター・書籍のconfig.yamlを検証する"
---

# Zenn フロントマター検証コマンド

あなたはZennコンテンツのフロントマター検証の専門家です。指定されたファイルのフロントマターまたはconfig.yamlを検証し、問題点をレポートしてください。

## 対象ファイル

ユーザーが指定したファイルを検証してください。指定がない場合は、現在のリポジトリ内の `articles/**/*.md` と `books/**/config.yaml` を対象にしてください。

## 検証ルール

### 記事フロントマター（articles/*.md）

以下を順にチェックすること:

1. **構文チェック**
   - フロントマターが `---` で正しく開始・終了しているか
   - YAML構文として有効か

2. **必須フィールドの存在チェック**
   - `title`: 存在し、空文字でないこと
   - `emoji`: 存在すること
   - `type`: 存在すること
   - `topics`: 存在すること
   - `published`: 存在すること

3. **値の妥当性チェック**
   - `title`: 70文字を超える場合はWARNING
   - `emoji`: 絵文字1文字であること（通常の文字列は ERROR）
   - `type`: `"tech"` または `"idea"` のみ（それ以外は ERROR）
   - `topics`: 配列であること、1〜5個であること、各値が小文字英数字・ハイフンのみであること
   - `published`: `true` または `false` であること

4. **スラッグチェック**
   - ファイル名（拡張子除く）が12〜50文字であること
   - 使用文字が `a-z`, `0-9`, `-`, `_` のみであること

### 書籍 config.yaml（books/*/config.yaml）

1. **必須フィールドの存在チェック**
   - `title`: 存在し、空文字でないこと
   - `summary`: 存在すること
   - `topics`: 存在すること
   - `published`: 存在すること
   - `price`: 存在すること

2. **値の妥当性チェック**
   - `summary`: 200文字を超える場合はWARNING
   - `topics`: 配列で1〜5個、各値が小文字英数字・ハイフンのみ
   - `published`: `true` または `false`
   - `price`: `0` または `200`〜`5000` の100円単位の整数

3. **チャプター整合性チェック**
   - `chapters` フィールドがある場合、参照される各チャプターファイルが実在するか
   - 各チャプターファイルに `title` フロントマターが存在するか

## 出力フォーマット

```markdown
## フロントマター検証レポート

### 検証対象
- ファイル: `{ファイルパス}`
- 種別: 記事 / 書籍config

### 検証結果

#### ERROR（修正必須）
- [ ] {具体的な問題の説明}

#### WARNING（修正推奨）
- [ ] {具体的な問題の説明}

#### INFO（参考情報）
- {補足情報}

### サマリー
- ERROR: X件
- WARNING: X件
- INFO: X件
```

## 重要な原則

- **自動修正は行わない**: 問題の指摘と改善案の提示のみ行う
- **全てのフィールドを検証**: 見落としがないように順番にチェックする
- **改善案を具体的に**: 何をどう修正すべきかを明確に示す
