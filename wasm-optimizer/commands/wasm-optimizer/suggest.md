---
description: 指定したファイルの重い処理パターンを分析し、WASM代替のbefore/afterコードを提示する。引数にファイルパスを指定する。
argument-hint: "<file-path>"
---

# wasm-optimizer: suggest

指定されたファイルの WASM 最適化提案を行います。

## 引数

- `$ARGUMENTS`: 分析対象のファイルパス（例: `src/utils/crypto.ts`）

## 手順

### 1. 対象ファイルの確認

`$ARGUMENTS` で指定されたファイルが存在するか確認する。

- ファイルが存在しない場合: エラーメッセージを表示
- JS/TS ファイルでない場合: 「対象外のファイル形式です」と表示

### 2. wasm-pattern-detector エージェント呼び出し

`wasm-pattern-detector` エージェントを呼び出し、指定ファイルの分析を実行する。

### 3. 結果の表示

エージェントの分析レポートをユーザーに表示する。

レポートには以下が含まれる:

- 検出パターン一覧（行番号、重要度、WASM 代替）
- 各パターンの詳細提案:
  - **Before**: 現在のコード
  - **After**: WASM ライブラリを使った代替コード
  - 期待改善値
  - バンドルサイズ影響
  - 注意点

### 4. 統合ガイドの案内

```
### 統合を進める場合

`/wasm-optimizer:integrate [ライブラリ名]` で統合ガイドを確認できます。
```
